<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tags - {{ novel.title }}</title>
    <link rel="stylesheet" href="../../../../static/style.css">
</head>
<body>
    <header>
        <nav><a href="../toc/">‚Üê Back to Table of Contents</a></nav>
        <h1>{{ novel.title }}</h1>
        {% if available_languages and available_languages|length > 1 %}
        <div class="language-switcher">
            <h3>Languages:</h3>
            {% for lang in available_languages %}
                {% if lang == current_language %}
                    <span class="current-language">{{ lang|upper }}</span>
                {% else %}
                    <a href="../../{{ lang }}/tags/">{{ lang|upper }}</a>
                {% endif %}
            {% endfor %}
        </div>
        {% endif %}
        <h2>All Tags</h2>
    </header>
    <main>
        {% if tags_data %}
            <div class="tags-grid">
                {% for tag, chapters in tags_data.items() %}
                <a href="{{ tag_slug_map[tag] }}/" class="tag-card">
                    <h3>{{ tag }}</h3>
                    <p class="tag-count">{{ chapters|length }} chapter{{ 's' if chapters|length != 1 else '' }}</p>
                </a>
                {% endfor %}
            </div>
        {% else %}
            <p>No tags found for this novel in {{ current_language|upper }}.</p>
        {% endif %}
    </main>
    <footer>
        <p>&copy; 2025 {{ novel.title }}</p>
    </footer>
</body>
</html>